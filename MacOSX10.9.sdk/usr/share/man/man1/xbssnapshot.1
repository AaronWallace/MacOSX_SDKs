.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "XBSSNAPSHOT" "1" "March 2013" "Core Build Technologies" "CoreXBS Tools"
.
.SH "NAME"
\fBxbssnapshot\fR \- CoreXBS snapshot utility
.
.SH "SYNOPSIS"
\fBxbssnapshot fetch\fR [\-\-[no]live] [\-\-age \fIhours\fR] [\-\-[no]xpc] \fItrain_name\fR
.
.P
\fBxbssnapshot authcheck\fR [\-\-timeout \fIseconds\fR] \fItrain_name\fR
.
.SH "DESCRIPTION"
In the 1st form, \fBxbssnapshot\fR is used to obtain a snapshot of Cortex for \fItrain_name\fR\. A cache of snapshots is maintained in a directory, which may or may not be used in addition to consulting the Cortex servers depending on command line \fIOPTIONS\fR specified\. If successful, a file URL of a suitable snasphot is printed to STDOUT\. On failure, a description of the failure is printed to STDERR\.
.
.P
In the 2nd form, \fBxbssnapshot\fR is used to check connectivity to the Cortex servers for \fItrain_name\fR and determine if AppleConnect (Single Sign\-On) credentials will be required to obtain a snapshot\. If the Cortex server can be reached, YES is printed to STDOUT if SSO authentication is required and NO is printed if not\. On failure (including not being able to reach the Cortex servers), a description of the failure is printed to STDERR\.
.
.SH "OPTIONS"
.
.TP
\fB\-\-live\fR
Force \fBxbssnapshot\fR to bypass the snapshot cache directory and fetch data from Cortex\.
.
.TP
\fB\-\-nolive\fR
Force \fBxbssnapshot\fR to not fetch data from Cortex and only use the snapshot cache directory\.
.
.TP
\fB\-\-age\fR \fIhours\fR
When considering if a snapshot found in the snapshot cache directory is "new enough", only accept snapshots that are less than \fIhours\fR old\.
.
.TP
\fB\-\-xpc\fR
Use XPC service when fetching data from Cortex\. This is the default\.
.
.TP
\fB\-\-noxpc\fR
Bypass XPC service when fetching data from Cortex\.
.
.TP
\fB\-\-timeout\fR \fIseconds\fR
When performing connectivity test with Cortex server(s), how long to wait before assuming no connectivity to a given Cortex server\.
.
.SH "RETURN VALUES"
Returns 0 on success, and non\-zero on failure\.
.
.SH "ENVIRONMENT"
.
.TP
\fBCTXHost\fR
May be set to the hostname of a specific Cortex server\. This is mainly only useful to the developers\.
.
.TP
\fBCTXPort\fR
May be set to specific port to connect to \fBCTXHost\fR on (does nothing unless \fBCTXHost\fR is also set)\. This is mainly only useful to the developers\.
.
.SH "FILES"
.
.TP
\fB/Library/Caches/com\.apple\.bni\.cortexsnapshot\fR
Directory where snapshots are cached\.
.
.TP
\fB/var/log/system\.log\fR
CoreXBS framework and XPC services log here\. \fBgrep CoreXBS /var/log/system\.log\fR may show additional information above and beyond what \fBxbssnapshot\fR prints on it\'s own\.
.
.SH "BUGS"
If you encounter issues with \fBxbssnapshot\fR, please file a Radar\. Component is "CBL \- CoreXBS|X"\. Please include the following information, if possible:
.
.IP "1." 4
Output of \fBxbssnapshot\fR, including command line it was invoked with\.
.
.IP "2." 4
Output of \fBls \-lh /Library/Caches/com\.apple\.bni\.cortexsnapshot\fR
.
.IP "3." 4
Output of \fBgrep CoreXBS /var/log/system\.log\fR
.
.IP "4." 4
If a snapshot was fetched, a copy of the snapshot\.
.
.IP "" 0
.
.SH "AUTHOR"
Problems with \fBxbssnapshot\fR should be addressed via Radar (see \fIBUGS\fR)\. For discussion and advice from other users please subscribe to \fIxbs\-help@group\.apple\.com\fR\. The maintainers of \fBxbssnapshot\fR are \fIcbt@group\.apple\.com\fR\. Suggestions and comments are always welcome!
