.\" Automatically generated by Pod::Man 2.23 (Pod::Simple 3.14)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "PERL593DELTA 1"
.TH PERL593DELTA 1 "2012-11-03" "perl v5.12.5" "Perl Programmers Reference Guide"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
perl593delta \- what is new for perl v5.9.3
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This document describes differences between the 5.9.2 and the 5.9.3
development releases. See perl590delta, perl591delta and
perl592delta for the differences between 5.8.0 and 5.9.2.
.SH "Incompatible Changes"
.IX Header "Incompatible Changes"
.ie n .SS "Parsing of ""\-f _"""
.el .SS "Parsing of \f(CW\-f _\fP"
.IX Subsection "Parsing of -f _"
The identifier \f(CW\*(C`_\*(C'\fR is now forced to be a bareword after a filetest
operator. This solves a number of misparsing issues when a global \f(CW\*(C`_\*(C'\fR
subroutine is defined.
.ie n .SS """mkdir()"""
.el .SS "\f(CWmkdir()\fP"
.IX Subsection "mkdir()"
\&\f(CW\*(C`mkdir()\*(C'\fR without arguments now defaults to \f(CW$_\fR.
.SS "Magic goto and eval"
.IX Subsection "Magic goto and eval"
The construct \f(CW\*(C`eval { goto &foo }\*(C'\fR is now disallowed. (Note that the
similar construct, but with \f(CW\*(C`eval("")\*(C'\fR instead, was already forbidden.)
.ie n .SS "$# has been removed"
.el .SS "\f(CW$#\fP has been removed"
.IX Subsection "$# has been removed"
The deprecated \f(CW$#\fR variable (output format for numbers) has been
removed. A new warning, \f(CW\*(C`$# is no longer supported\*(C'\fR, has been added.
.ie n .SS """:unique"""
.el .SS "\f(CW:unique\fP"
.IX Subsection ":unique"
The \f(CW\*(C`:unique\*(C'\fR attribute has been made a no-op, since its current
implementation was fundamentally flawed and not threadsafe.
.ie n .SS "Scoping of the ""sort"" pragma"
.el .SS "Scoping of the \f(CWsort\fP pragma"
.IX Subsection "Scoping of the sort pragma"
The \f(CW\*(C`sort\*(C'\fR pragma is now lexically scoped. Its effect used to be global.
.SH "Core Enhancements"
.IX Header "Core Enhancements"
.ie n .SS "The ""feature"" pragma"
.el .SS "The \f(CWfeature\fP pragma"
.IX Subsection "The feature pragma"
The \f(CW\*(C`feature\*(C'\fR pragma is used to enable new syntax that would break Perl's
backwards-compatibility with older releases of the language. It's a lexical
pragma, like \f(CW\*(C`strict\*(C'\fR or \f(CW\*(C`warnings\*(C'\fR.
.PP
Currently the following new features are available: \f(CW\*(C`switch\*(C'\fR (adds a
switch statement), \f(CW\*(C`~~\*(C'\fR (adds a Perl 6\-like smart match operator), \f(CW\*(C`say\*(C'\fR
(adds a \f(CW\*(C`say\*(C'\fR built-in function), and \f(CW\*(C`err\*(C'\fR (adds an \f(CW\*(C`err\*(C'\fR keyword).
Those features are described below.
.PP
Note that \f(CW\*(C`err\*(C'\fR low-precedence defined-or operator used to be enabled by
default (although as a weak keyword, meaning that any function would
override it). It's now only recognized when explicitly turned on (and is
then a regular keyword).
.PP
Those features, and the \f(CW\*(C`feature\*(C'\fR pragma itself, have been contributed by
Robin Houston.
.SS "Switch and Smart Match operator"
.IX Subsection "Switch and Smart Match operator"
Perl 5 now has a switch statement. It's available when \f(CW\*(C`use feature
\&\*(Aqswitch\*(Aq\*(C'\fR is in effect. This feature introduces three new keywords,
\&\f(CW\*(C`given\*(C'\fR, \f(CW\*(C`when\*(C'\fR, and \f(CW\*(C`default\*(C'\fR:
.PP
.Vb 6
\&    given ($foo) {
\&        when (/^abc/) { $abc = 1; }
\&        when (/^def/) { $def = 1; }
\&        when (/^xyz/) { $xyz = 1; }
\&        default { $nothing = 1; }
\&    }
.Ve
.PP
A more complete description of how Perl matches the switch variable
against the \f(CW\*(C`when\*(C'\fR conditions is given in \*(L"Switch statements\*(R" in perlsyn.
.PP
This kind of match is called \fIsmart match\fR, and it's also possible to use
it outside of switch statements, via the new \f(CW\*(C`~~\*(C'\fR operator (enabled via
the \f(CW\*(C`use feature \*(Aq~~\*(Aq\*(C'\fR directive). See \*(L"Smart matching in
detail\*(R" in perlsyn.
.ie n .SS """say()"""
.el .SS "\f(CWsay()\fP"
.IX Subsection "say()"
\&\fIsay()\fR is a new built-in, only available when \f(CW\*(C`use feature \*(Aqsay\*(Aq\*(C'\fR is in
effect, that is similar to \fIprint()\fR, but that implicitly appends a newline
to the printed string. See \*(L"say\*(R" in perlfunc.
.ie n .SS """CLONE_SKIP()"""
.el .SS "\f(CWCLONE_SKIP()\fP"
.IX Subsection "CLONE_SKIP()"
Perl has now support for the \f(CW\*(C`CLONE_SKIP\*(C'\fR special subroutine. Like
\&\f(CW\*(C`CLONE\*(C'\fR, \f(CW\*(C`CLONE_SKIP\*(C'\fR is called once per package; however, it is called
just before cloning starts, and in the context of the parent thread. If it
returns a true value, then no objects of that class will be cloned. See
perlmod for details. (Contributed by Dave Mitchell.)
.ie n .SS """${^CHILD_ERROR_NATIVE}"""
.el .SS "\f(CW${^CHILD_ERROR_NATIVE}\fP"
.IX Subsection "${^CHILD_ERROR_NATIVE}"
A new internal variable, \f(CW\*(C`${^CHILD_ERROR_NATIVE}\*(C'\fR, gives the native
status returned by the last pipe close, backtick command, successful call
to \fIwait()\fR or \fIwaitpid()\fR, or from the \fIsystem()\fR operator. See perlrun for
details. (Contributed by Gisle Aas.)
.SS "Assertions"
.IX Subsection "Assertions"
The support for assertions, introduced in perl 5.9.0, has been improved.
The syntax for the \f(CW\*(C`\-A\*(C'\fR command-line switch has changed; it now accepts
an optional module name, defaulting to \f(CW\*(C`assertions::activate\*(C'\fR. See
assertions and perlrun. (Contributed by Salvador FandiA\*~Xo GarcA\*~\%a.)
.SS "Unicode Character Database 4.1.0"
.IX Subsection "Unicode Character Database 4.1.0"
The copy of the Unicode Character Database included in Perl 5.9 has
been updated to 4.1.0.
.ie n .SS """no VERSION"""
.el .SS "\f(CWno VERSION\fP"
.IX Subsection "no VERSION"
You can now use \f(CW\*(C`no\*(C'\fR followed by a version number to specify that you
want to use a version of perl older than the specified one.
.SS "Recursive sort subs"
.IX Subsection "Recursive sort subs"
You can now use recursive subroutines with \fIsort()\fR, thanks to Robin Houston.
.SS "Effect of pragmas in eval"
.IX Subsection "Effect of pragmas in eval"
The compile-time value of the \f(CW\*(C`%^H\*(C'\fR hint variable can now propagate into
eval("")uated code. This makes it more useful to implement lexical
pragmas.
.PP
As a side-effect of this, the overloaded-ness of constants now propagates
into eval("").
.SS "New \fB\-E\fP command-line switch"
.IX Subsection "New -E command-line switch"
\&\fB\-E\fR is equivalent to \fB\-e\fR, but it implicitly enables all
optional features (like \f(CW\*(C`use feature ":5.10"\*(C'\fR).
.ie n .SS """chdir"", ""chmod"" and ""chown"" on filehandles"
.el .SS "\f(CWchdir\fP, \f(CWchmod\fP and \f(CWchown\fP on filehandles"
.IX Subsection "chdir, chmod and chown on filehandles"
\&\f(CW\*(C`chdir\*(C'\fR, \f(CW\*(C`chmod\*(C'\fR and \f(CW\*(C`chown\*(C'\fR can now work on filehandles as well as
filenames, if the system supports respectively \f(CW\*(C`fchdir\*(C'\fR, \f(CW\*(C`fchmod\*(C'\fR and
\&\f(CW\*(C`fchown\*(C'\fR, thanks to a patch provided by Gisle Aas.
.SS "\s-1OS\s0 groups"
.IX Subsection "OS groups"
\&\f(CW$(\fR and \f(CW$)\fR now return groups in the order where the \s-1OS\s0 returns them,
thanks to Gisle Aas. This wasn't previously the case.
.SH "Modules and Pragmata"
.IX Header "Modules and Pragmata"
.SS "New Core Modules"
.IX Subsection "New Core Modules"
.IP "\(bu" 4
A new pragma, \f(CW\*(C`feature\*(C'\fR, has been added; see above in \*(L"Core
Enhancements\*(R".
.IP "\(bu" 4
\&\f(CW\*(C`assertions::compat\*(C'\fR, also available on \s-1CPAN\s0, allows the use of assertions on
perl versions prior to 5.9.0 (that is the first one to natively support
them).
.IP "\(bu" 4
\&\f(CW\*(C`Math::BigInt::FastCalc\*(C'\fR is an XS-enabled, and thus faster, version of
\&\f(CW\*(C`Math::BigInt::Calc\*(C'\fR.
.IP "\(bu" 4
\&\f(CW\*(C`Compress::Zlib\*(C'\fR is an interface to the zlib compression library. It
comes with a bundled version of zlib, so having a working zlib is not a
prerequisite to install it. It's used by \f(CW\*(C`Archive::Tar\*(C'\fR (see below).
.IP "\(bu" 4
\&\f(CW\*(C`IO::Zlib\*(C'\fR is an \f(CW\*(C`IO::\*(C'\fR\-style interface to \f(CW\*(C`Compress::Zlib\*(C'\fR.
.IP "\(bu" 4
\&\f(CW\*(C`Archive::Tar\*(C'\fR is a module to manipulate \f(CW\*(C`tar\*(C'\fR archives.
.IP "\(bu" 4
\&\f(CW\*(C`Digest::SHA\*(C'\fR is a module used to calculate many types of \s-1SHA\s0 digests,
has been included for \s-1SHA\s0 support in the \s-1CPAN\s0 module.
.IP "\(bu" 4
\&\f(CW\*(C`ExtUtils::CBuilder\*(C'\fR and \f(CW\*(C`ExtUtils::ParseXS\*(C'\fR have been added.
.SH "Utility Changes"
.IX Header "Utility Changes"
.ie n .SS """ptar"""
.el .SS "\f(CWptar\fP"
.IX Subsection "ptar"
\&\f(CW\*(C`ptar\*(C'\fR is a pure perl implementation of \f(CW\*(C`tar\*(C'\fR, that comes with
\&\f(CW\*(C`Archive::Tar\*(C'\fR.
.ie n .SS """ptardiff"""
.el .SS "\f(CWptardiff\fP"
.IX Subsection "ptardiff"
\&\f(CW\*(C`ptardiff\*(C'\fR is a small script used to generate a diff between the contents
of a tar archive and a directory tree. Like \f(CW\*(C`ptar\*(C'\fR, it comes with
\&\f(CW\*(C`Archive::Tar\*(C'\fR.
.ie n .SS """shasum"""
.el .SS "\f(CWshasum\fP"
.IX Subsection "shasum"
This command-line utility, used to print or to check \s-1SHA\s0 digests, comes
with the new \f(CW\*(C`Digest::SHA\*(C'\fR module.
.ie n .SS """h2xs"" enhancements"
.el .SS "\f(CWh2xs\fP enhancements"
.IX Subsection "h2xs enhancements"
\&\f(CW\*(C`h2xs\*(C'\fR implements a new option \f(CW\*(C`\-\-use\-xsloader\*(C'\fR to force use of
\&\f(CW\*(C`XSLoader\*(C'\fR even in backwards compatible modules.
.PP
The handling of authors' names that had apostrophes has been fixed.
.PP
Any enums with negative values are now skipped.
.ie n .SS """perlivp"" enhancements"
.el .SS "\f(CWperlivp\fP enhancements"
.IX Subsection "perlivp enhancements"
\&\f(CW\*(C`perlivp\*(C'\fR no longer checks for \fI*.ph\fR files by default.  Use the new \f(CW\*(C`\-a\*(C'\fR
option to run \fIall\fR tests.
.SH "Documentation"
.IX Header "Documentation"
.SS "Perl Glossary"
.IX Subsection "Perl Glossary"
The perlglossary manpage is a glossary of terms used in the Perl
documentation, technical and otherwise, kindly provided by O'Reilly Media,
Inc.
.PP
perltodo now lists a rough roadmap to Perl 5.10.
.SH "Performance Enhancements"
.IX Header "Performance Enhancements"
.SS "XS-assisted \s-1SWASHGET\s0"
.IX Subsection "XS-assisted SWASHGET"
Some pure-perl code that perl was using to retrieve Unicode properties and
transliteration mappings has been reimplemented in \s-1XS\s0.
.SS "Constant subroutines"
.IX Subsection "Constant subroutines"
The interpreter internals now support a far more memory efficient form of
inlineable constants. Storing a reference to a constant value in a symbol
table is equivalent to a full typeglob referencing a constant subroutine,
but using about 400 bytes less memory. This proxy constant subroutine is
automatically upgraded to a real typeglob with subroutine if necessary.
The approach taken is analogous to the existing space optimisation for
subroutine stub declarations, which are stored as plain scalars in place
of the full typeglob.
.PP
Several of the core modules have been converted to use this feature for
their system dependent constants \- as a result \f(CW\*(C`use POSIX;\*(C'\fR now takes about
200K less memory.
.ie n .SS """PERL_DONT_CREATE_GVSV"""
.el .SS "\f(CWPERL_DONT_CREATE_GVSV\fP"
.IX Subsection "PERL_DONT_CREATE_GVSV"
The new compilation flag \f(CW\*(C`PERL_DONT_CREATE_GVSV\*(C'\fR, introduced as an option
in perl 5.8.8, is turned on by default in perl 5.9.3. It prevents perl
from creating an empty scalar with every new typeglob. See perl589delta
for details.
.SS "Weak references are cheaper"
.IX Subsection "Weak references are cheaper"
Weak reference creation is now \fIO(1)\fR rather than \fIO(n)\fR, courtesy of
Nicholas Clark. Weak reference deletion remains \fIO(n)\fR, but if deletion only
happens at program exit, it may be skipped completely.
.SS "\fIsort()\fP enhancements"
.IX Subsection "sort() enhancements"
Salvador FandiA\*~Xo provided improvements to reduce the memory usage of \f(CW\*(C`sort\*(C'\fR
and to speed up some cases.
.SH "Installation and Configuration Improvements"
.IX Header "Installation and Configuration Improvements"
.SS "Compilation improvements"
.IX Subsection "Compilation improvements"
Parallel makes should work properly now, although there may still be problems
if \f(CW\*(C`make test\*(C'\fR is instructed to run in parallel.
.PP
Building with Borland's compilers on Win32 should work more smoothly. In
particular Steve Hay has worked to side step many warnings emitted by their
compilers and at least one C compiler internal error.
.PP
Perl extensions on Windows now can be statically built into the Perl \s-1DLL\s0,
thanks to a work by Vadim Konovalov.
.SS "New Or Improved Platforms"
.IX Subsection "New Or Improved Platforms"
Perl is being ported to Symbian \s-1OS\s0. See perlsymbian for more
information.
.PP
The \s-1VMS\s0 port has been improved. See perlvms.
.PP
\&\fIDynaLoader::dl_unload_file()\fR now works on Windows.
.PP
Portability of Perl on various recent compilers on Windows has been
improved (Borland \*(C+, Visual \*(C+ 7.0).
.SS "New probes"
.IX Subsection "New probes"
\&\f(CW\*(C`Configure\*(C'\fR will now detect \f(CW\*(C`clearenv\*(C'\fR and \f(CW\*(C`unsetenv\*(C'\fR, thanks to a
patch from Alan Burlison. It will also probe for \f(CW\*(C`futimes\*(C'\fR (and use it
internally if available), and whether \f(CW\*(C`sprintf\*(C'\fR correctly returns the
length of the formatted string.
.SS "Module auxiliary files"
.IX Subsection "Module auxiliary files"
\&\s-1README\s0 files and changelogs for \s-1CPAN\s0 modules bundled with perl are no
longer installed.
.SH "Selected Bug Fixes"
.IX Header "Selected Bug Fixes"
.ie n .SS """defined $$x"""
.el .SS "\f(CWdefined $$x\fP"
.IX Subsection "defined $$x"
\&\f(CW\*(C`use strict "refs"\*(C'\fR was ignoring taking a hard reference in an argument
to \fIdefined()\fR, as in :
.PP
.Vb 3
\&    use strict "refs";
\&    my $x = "foo";
\&    if (defined $$x) {...}
.Ve
.PP
This now correctly produces the run-time error \f(CW\*(C`Can\*(Aqt use string as a
SCALAR ref while "strict refs" in use\*(C'\fR. (However, \f(CW\*(C`defined @$foo\*(C'\fR and
\&\f(CW\*(C`defined %$foo\*(C'\fR are still allowed. Those constructs are discouraged
anyway.)
.SS "Calling \fICORE::require()\fP"
.IX Subsection "Calling CORE::require()"
\&\fICORE::require()\fR and \fICORE::do()\fR were always parsed as \fIrequire()\fR and \fIdo()\fR
when they were overridden. This is now fixed.
.SS "Subscripts of slices"
.IX Subsection "Subscripts of slices"
You can now use a non-arrowed form for chained subscripts after a list
slice, like in:
.PP
.Vb 1
\&    ({foo => "bar"})[0]{foo}
.Ve
.PP
This used to be a syntax error; a \f(CW\*(C`\->\*(C'\fR was required.
.SS "Remove over-optimisation"
.IX Subsection "Remove over-optimisation"
Perl 5.9.2 introduced a change so that assignments of \f(CW\*(C`undef\*(C'\fR to a
scalar, or of an empty list to an array or a hash, were optimised out. As
this could cause problems when \f(CW\*(C`goto\*(C'\fR jumps were involved, this change
was backed out.
.SS "\fIsprintf()\fP fixes"
.IX Subsection "sprintf() fixes"
Using the \fIsprintf()\fR function with some formats could lead to a buffer
overflow in some specific cases. This has been fixed, along with several
other bugs, notably in bounds checking.
.PP
In related fixes, it was possible for badly written code that did not follow
the documentation of \f(CW\*(C`Sys::Syslog\*(C'\fR to have formatting vulnerabilities.
\&\f(CW\*(C`Sys::Syslog\*(C'\fR has been changed to protect people from poor quality third
party code.
.SS "no warnings 'category' works correctly with \-w"
.IX Subsection "no warnings 'category' works correctly with -w"
Previously when running with warnings enabled globally via \f(CW\*(C`\-w\*(C'\fR, selective
disabling of specific warning categories would actually turn off all warnings.
This is now fixed; now \f(CW\*(C`no warnings \*(Aqio\*(Aq;\*(C'\fR will only turn off warnings in the
\&\f(CW\*(C`io\*(C'\fR class. Previously it would erroneously turn off all warnings.
.SS "Smaller fixes"
.IX Subsection "Smaller fixes"
.IP "\(bu" 4
\&\f(CW\*(C`FindBin\*(C'\fR now works better with directories where access rights are more
restrictive than usual.
.IP "\(bu" 4
Several memory leaks in ithreads were closed. Also, ithreads were made
less memory-intensive.
.IP "\(bu" 4
Trailing spaces are now trimmed from \f(CW$!\fR and \f(CW$^E\fR.
.IP "\(bu" 4
Operations that require perl to read a process's list of groups, such as reads
of \f(CW$(\fR and \f(CW$)\fR, now dynamically allocate memory rather than using a
fixed sized array. The fixed size array could cause C stack exhaustion on
systems configured to use large numbers of groups.
.IP "\(bu" 4
\&\f(CW\*(C`PerlIO::scalar\*(C'\fR now works better with non-default \f(CW$/\fR settings.
.IP "\(bu" 4
The \f(CW\*(C`x\*(C'\fR repetition operator is now able to operate on \f(CW\*(C`qw//\*(C'\fR lists. This
used to raise a syntax error.
.IP "\(bu" 4
The debugger now traces correctly execution in eval("")uated code that
contains #line directives.
.IP "\(bu" 4
The value of the \f(CW\*(C`open\*(C'\fR pragma is no longer ignored for three-argument
opens.
.IP "\(bu" 4
Perl will now use the C library calls \f(CW\*(C`unsetenv\*(C'\fR and \f(CW\*(C`clearenv\*(C'\fR if present
to delete keys from \f(CW%ENV\fR and delete \f(CW%ENV\fR entirely, thanks to a patch
from Alan Burlison.
.SS "More Unicode Fixes"
.IX Subsection "More Unicode Fixes"
.IP "\(bu" 4
\&\fIchr()\fR on a negative value now gives \f(CW\*(C`\ex{FFFD}\*(C'\fR, the Unicode replacement
character, unless when the \f(CW\*(C`bytes\*(C'\fR pragma is in effect, where the low
eight bytes of the value are used.
.IP "\(bu" 4
Some case insensitive matches between \s-1UTF\-8\s0 encoded data and 8 bit regexps,
and vice versa, could give malformed character warnings. These have been
fixed by Dave Mitchell and Yves Orton.
.IP "\(bu" 4
\&\f(CW\*(C`lcfirst\*(C'\fR and \f(CW\*(C`ucfirst\*(C'\fR could corrupt the string for certain cases where
the length \s-1UTF\-8\s0 encoding of the string in lower case, upper case or title
case differed. This was fixed by Nicholas Clark.
.SH "New or Changed Diagnostics"
.IX Header "New or Changed Diagnostics"
.SS "Attempt to set length of freed array"
.IX Subsection "Attempt to set length of freed array"
This is a new warning, produced in situations like the following one:
.PP
.Vb 2
\&    $r = do {my @a; \e$#a};
\&    $$r = 503;
.Ve
.SS "Non-string passed as bitmask"
.IX Subsection "Non-string passed as bitmask"
This is a new warning, produced when number has been passed as a argument to
\&\fIselect()\fR, instead of a bitmask.
.PP
.Vb 3
\&    # Wrong, will now warn
\&    $rin = fileno(STDIN);
\&    ($nfound,$timeleft) = select($rout=$rin, undef, undef, $timeout);
\&    
\&    # Should be
\&    $rin = \*(Aq\*(Aq;
\&    vec($rin,fileno(STDIN),1) = 1;
\&    ($nfound,$timeleft) = select($rout=$rin, undef, undef, $timeout);
.Ve
.SS "Search pattern not terminated or ternary operator parsed as search pattern"
.IX Subsection "Search pattern not terminated or ternary operator parsed as search pattern"
This syntax error indicates that the lexer couldn't find the final
delimiter of a \f(CW\*(C`?PATTERN?\*(C'\fR construct. Mentioning the ternary operator in
this error message makes syntax diagnostic easier.
.ie n .SS """%s"" variable %s masks earlier declaration"
.el .SS "``%s'' variable \f(CW%s\fP masks earlier declaration"
.IX Subsection "%s variable %s masks earlier declaration"
This warning is now emitted in more consistent cases; in short, when one
of the declarations involved is a \f(CW\*(C`my\*(C'\fR variable:
.PP
.Vb 3
\&    my $x;   my $x;     # warns
\&    my $x;  our $x;     # warns
\&    our $x;  my $x;     # warns
.Ve
.PP
On the other hand, the following:
.PP
.Vb 1
\&    our $x; our $x;
.Ve
.PP
now gives a \f(CW\*(C`"our" variable %s redeclared\*(C'\fR warning.
.SS "\fIreaddir()\fP/\fIclosedir()\fP/etc. attempted on invalid dirhandle"
.IX Subsection "readdir()/closedir()/etc. attempted on invalid dirhandle"
These new warnings are now emitted when a dirhandle is used but is
either closed or not really a dirhandle.
.SH "Changed Internals"
.IX Header "Changed Internals"
In general, the source code of perl has been refactored, tied up, and
optimized in many places. Also, memory management and allocation has been
improved in a couple of points.
.PP
Andy Lester supplied many improvements to determine which function
parameters and local variables could actually be declared \f(CW\*(C`const\*(C'\fR to the C
compiler. Steve Peters provided new \f(CW*_set\fR macros and reworked the core to
use these rather than assigning to macros in \s-1LVALUE\s0 context.
.PP
Dave Mitchell improved the lexer debugging output under \f(CW\*(C`\-DT\*(C'\fR.
.PP
A new file, \fImathoms.c\fR, has been added. It contains functions that are
no longer used in the perl core, but that remain available for binary or
source compatibility reasons. However, those functions will not be
compiled in if you add \f(CW\*(C`\-DNO_MATHOMS\*(C'\fR in the compiler flags.
.PP
The \f(CW\*(C`AvFLAGS\*(C'\fR macro has been removed.
.PP
The \f(CW\*(C`av_*()\*(C'\fR functions, used to manipulate arrays, no longer accept null
\&\f(CW\*(C`AV*\*(C'\fR parameters.
.SS "B:: modules inheritance changed"
.IX Subsection "B:: modules inheritance changed"
The inheritance hierarchy of \f(CW\*(C`B::\*(C'\fR modules has changed; \f(CW\*(C`B::NV\*(C'\fR now
inherits from \f(CW\*(C`B::SV\*(C'\fR (it used to inherit from \f(CW\*(C`B::IV\*(C'\fR).
.SH "Reporting Bugs"
.IX Header "Reporting Bugs"
If you find what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the perl
bug database at http://bugs.perl.org/ .  There may also be
information at http://www.perl.org/ , the Perl Home Page.
.PP
If you believe you have an unreported bug, please run the \fBperlbug\fR
program included with your release.  Be sure to trim your bug down
to a tiny but sufficient test case.  Your bug report, along with the
output of \f(CW\*(C`perl \-V\*(C'\fR, will be sent off to perlbug@perl.org to be
analysed by the Perl porting team.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
The \fIChanges\fR file for exhaustive details on what changed.
.PP
The \fI\s-1INSTALL\s0\fR file for how to build Perl.
.PP
The \fI\s-1README\s0\fR file for general stuff.
.PP
The \fIArtistic\fR and \fICopying\fR files for copyright information.
